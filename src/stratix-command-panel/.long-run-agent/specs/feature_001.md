# Feature feature_001 - 技能列表展示

## 元信息
- **优先级**: P0
- **负责人**: stratix-team
- **预计工时**: 3天
- **创建时间**: 2026-02-22 17:21:46

## 功能描述
展示当前选中 Agent（英雄）可执行的所有技能列表，支持技能选择、搜索和信息展示。作为指令面板的核心入口，为用户提供直观的技能选择界面。

## 功能设计方案

### 1. 技能加载机制
- **触发条件**：接收 RTS 界面发射的 `stratix:agent_select` 事件
- **数据来源**：通过 API 获取 Agent 的技能配置
  ```
  GET /api/stratix/config/agent/get?agentId=xxx
  ```
- **数据结构**：`StratixAgentConfig` 中的 `skills` 数组

### 2. UI 设计
- **布局位置**：指令面板的左侧区域
- **展示内容**：
  - 技能名称（name）
  - 技能描述（description）
  - 技能图标（使用首字母或预设图标）
- **交互方式**：
  - 点击技能高亮选中
  - 选中的技能显示详细参数表单
  - 支持技能搜索/筛选（可选）

### 3. 多 Agent 选择处理
- **场景**：当用户框选多个 Agent 时
- **处理策略**：
  - 方案1：取交集 - 仅展示所有选中 Agent 共有的技能
  - 方案2：提示用户 - 确认是否对所有 Agent 执行同一指令
  - 方案3：标签页切换 - 每个 Agent 显示各自的技能列表

### 4. 视觉设计
- **技能卡片样式**：
  - 默认状态：白色背景，黑色文字
  - 悬停状态：浅灰色背景
  - 选中状态：绿色边框（#00FF00，符合 Stratix 选中色规范）
- **技能分类颜色**：
  - 文案类技能：蓝色图标 (#4A90E2)
  - 开发类技能：紫色图标 (#9B59B6)
  - 数据分析类技能：橙色图标 (#E67E22)

### 5. 技术实现
**文件结构**：
```
src/stratix-command-panel/
├── components/
│   └── SkillList.vue          # 技能列表组件
```

**核心接口**：
- 订阅事件：`stratix:agent_select`
- 发射事件：`skill-selected`（传递选中的技能配置）

**依赖**：
- Vue 3 Composition API
- StratixEventBus
- axios（API 调用）

## 开发步骤
- [ ] 步骤 1：创建 SkillList.vue 组件基础结构，实现技能列表渲染
- [ ] 步骤 2：实现技能加载逻辑（订阅 agent_select 事件，调用 API）
- [ ] 步骤 3：实现技能选中逻辑（高亮、发射事件）
- [ ] 步骤 4：实现技能搜索/筛选功能
- [ ] 步骤 5：处理多 Agent 选择场景
- [ ] 步骤 6：编写样式（符合 Stratix 设计规范）
- [ ] 步骤 7：编写单元测试

## 测试用例
| 用例编号 | 场景 | 操作步骤 | 预期结果 |
|----------|------|----------|----------|
| TC-001 | 单个 Agent 选择测试 | 选中 1 个 Agent（文案英雄） | 展示该 Agent 的所有技能（快速写文案、文案优化） |
| TC-002 | 多个 Agent 选择测试 | 选中 2 个 Agent（文案英雄 + 开发英雄） | 展示共有技能或提示用户确认 |
| TC-003 | 技能搜索测试 | 在搜索框输入"文案" | 仅展示名称或描述包含"文案"的技能 |
| TC-004 | 技能选择测试 | 点击技能卡片 | 卡片高亮（绿色边框），触发 skill-selected 事件 |
| TC-005 | 技能颜色测试 | 查看不同类型的技能 | 文案技能蓝色、开发技能紫色、分析技能橙色 |

## 验收标准
- [ ] 正确加载并展示 Agent 技能列表
- [ ] 支持技能搜索/筛选功能
- [ ] 点击技能触发选中事件，卡片高亮显示
- [ ] 多 Agent 选择场景处理合理（有明确的交互提示）
- [ ] UI 样式符合 Stratix 设计规范（颜色、边框、字体）
- [ ] 技能列表支持虚拟滚动优化（技能数量超过 50 时）
- [ ] 代码通过 ESLint 检查，无类型错误

## 变更记录
| 日期 | 变更内容 | 变更人 |
|------|----------|--------|
| 2026-02-22 | 初始创建 | AI Assistant |
| 2026-02-22 | 迁移内容到 LRA 标准格式 | AI Assistant |
