# Feature feature_005 - HeroForm 主组件

## 元信息
- **优先级**: P1（前端组件）
- **负责人**: AI Agent
- **预计工时**: 1 天
- **创建时间**: 2026-02-22 15:46:26

## 功能描述
英雄配置主表单组件，整合所有编辑器组件，提供保存、导出、预览等完整操作流程。

## 功能设计方案

### 组件结构
- 页面头部：标题 + 操作按钮（预览/导出/保存）
- 基础信息行：名称、类型、Agent ID
- Tab 面板：Soul / 技能 / 记忆 / 模型
- 配置预览弹窗

### Props
```typescript
{
  agentId?: string;        // 编辑模式传入
  heroType?: HeroType;     // 新建模式默认类型
  designer?: StratixHeroDesigner;  // 可选注入
}
```

### Events
```typescript
{
  (e: 'saved', config: StratixAgentConfig): void;
  (e: 'cancel'): void;
}
```

### 功能操作
- **保存**: 校验 -> 调用 saveHeroConfig -> 发射 saved 事件
- **导出**: 调用 downloadHeroConfig -> 浏览器下载 JSON
- **预览**: 打开弹窗显示 JSON -> 支持复制到剪贴板

### 文件
```
components/HeroForm.vue
```

## 开发步骤
- [x] 步骤 1：创建 HeroForm.vue 组件框架
- [x] 步骤 2：集成所有编辑器子组件
- [x] 步骤 3：实现保存/导出/预览功能
- [x] 步骤 4：添加表单校验
- [x] 步骤 5：实现配置预览弹窗
- [x] 步骤 6：更新模块导出

## 测试用例
| 用例编号 | 场景 | 操作步骤 | 预期结果 |
|----------|------|----------|----------|
| TC-001 | 新建英雄 | 不传 agentId | 显示"创建英雄" |
| TC-002 | 编辑英雄 | 传入 agentId | 加载并显示配置 |
| TC-003 | 保存成功 | 填写有效配置并保存 | 触发 saved 事件 |
| TC-004 | 导出配置 | 点击导出按钮 | 下载 JSON 文件 |
| TC-005 | 预览配置 | 点击预览按钮 | 弹窗显示 JSON |
| TC-006 | 复制 JSON | 预览弹窗点击复制 | 复制到剪贴板 |

## 验收标准
- [x] 标准 1：组件正确渲染所有子组件
- [x] 标准 2：保存/导出/预览功能正常
- [x] 标准 3：表单校验有效
- [x] 标准 4：TypeScript 类型检查通过

## 变更记录
| 日期 | 变更内容 | 变更人 |
|------|----------|--------|
| 2026-02-22 | 初始创建 | AI |
| 2026-02-22 | 开发完成 | AI |
