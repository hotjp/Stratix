# Stratix RTS - UI/UX 设计规范

## 设计理念

Stratix RTS 是「星策」系统的核心前端模块，采用 **2D RTS 游戏化界面** 设计，强调「星际军团指挥」的沉浸感。整体设计风格遵循以下原则：

1. **星际科技感**：深色背景 + 发光效果 + 渐变边框
2. **即时反馈**：状态变化立即呈现视觉反馈
3. **操作直观**：符合 RTS 游戏操作习惯
4. **信息清晰**：层级分明，重要信息突出

---

## 色彩系统

### 主色调

| 名称 | 色值 | 用途 |
|------|------|------|
| **Stratix Green** | `#00FF00` / `0x00ff00` | 选中状态、成功反馈、在线状态 |
| **Stratix Blue** | `#1a1a2e` | 主背景色（深空蓝） |
| **Stratix Purple** | `#16213e` | 次背景色、面板背景 |
| **Stratix Cyan** | `#00FFFF` / `0x00ffff` | 等待/加载状态、高亮提示 |

### 状态色彩

| 状态 | 色值 | 十六进制 | 说明 |
|------|------|----------|------|
| **Online** | 绿色 | `0x00ff00` | Agent 在线/空闲 |
| **Busy** | 黄色 | `0xffff00` | Agent 执行中 |
| **Error** | 红色 | `0xff4444` | 错误/失败 |
| **Offline** | 灰色 | `0x888888` | 离线/不可用 |
| **Pending** | 青色 | `0x00ffff` | 等待执行 |

### 类型色彩（Agent 类型）

| 类型 | 色值 | 十六进制 | 用途 |
|------|------|----------|------|
| **Writer** | 蓝色 | `0x4A90E2` | 文案类 Agent |
| **Dev** | 紫色 | `0x9B59B6` | 开发类 Agent |
| **Analyst** | 橙色 | `0xE67E22` | 数据分析类 Agent |

### UI 组件色彩

| 组件 | 色值 | 用途 |
|------|------|------|
| **选框边框** | `0x00ff00` | 框选时的绿色边框 |
| **选框填充** | `0x00ff00, alpha=0.2` | 框选时的半透明填充 |
| **状态栏背景** | `0x000000, alpha=0.7` | 半透明黑色背景 |
| **状态栏边框** | `0x00ff00, alpha=0.5` | 顶部绿色边线 |
| **按钮默认** | `0x2d2d44` | 深灰按钮背景 |
| **按钮悬停** | `0x3d3d54` | 悬停时的亮灰色 |
| **按钮激活** | `0x00ff00` | 激活时的绿色 |

---

## 字体系统

### 字体层级

| 层级 | 大小 | 粗细 | 用途 |
|------|------|------|------|
| **H1** | 24px | Bold | 标题 |
| **H2** | 18px | SemiBold | 副标题 |
| **Body** | 14px | Regular | 正文内容 |
| **Small** | 12px | Regular | 辅助信息、标签 |
| **Micro** | 10px | Regular | 极小提示 |

### Agent 名称标签
```
字体大小: 12px
字体颜色: #ffffff
背景色: rgba(0, 0, 0, 0.6)
内边距: 4px 6px
圆角: 4px
位置: 精灵上方 24px
```

---

## 组件设计规范

### 1. Agent 精灵（AgentSprite）

```
整体尺寸: 48x48 (精灵 32x32 + 留白)
层级结构:
├── 选中环 (最底层, 选中时显示)
│   └── 绿色圆环, 直径 44px, 线宽 2px
├── 英雄精灵 (32x32)
│   └── 居中放置
├── 状态指示器
│   └── 圆点, 直径 6px, 位于精灵正上方 8px
└── 名称标签
    └── 位于精灵上方 24px, 水平居中
```

**视觉状态**：

| 状态 | 精灵颜色 | 状态指示器 | 选中环 |
|------|----------|------------|--------|
| 默认 | 原色 | 绿色圆点 | 无 |
| 选中 | 绿色 | 绿色圆点 | 绿色圆环 |
| 忙碌 | 黄色 | 黄色圆点 | 无 |
| 错误 | 红色 | 红色圆点 | 无 |
| 离线 | 灰色 50% | 灰色圆点 | 无 |

### 2. 选框组件（SelectBox）

```
样式:
├── 边框
│   ├── 颜色: 0x00ff00 (绿色)
│   ├── 线宽: 2px
│   └── 虚线效果: 可选（4px实线, 4px间隔）
└── 填充
    ├── 颜色: 0x00ff00
    └── 透明度: 20% (alpha=0.2)

最小尺寸: 10x10 (小于此尺寸不触发选框)
```

### 3. 状态栏组件（StatusBar）

```
位置: 屏幕底部居中
尺寸: 屏幕宽度 80%, 高度 40px
内边距: 左右 20px
圆角: 8px

层级结构:
├── 背景
│   ├── 颜色: 0x000000
│   ├── 透明度: 70% (alpha=0.7)
│   └── 圆角: 8px
├── 顶部边线
│   ├── 颜色: 0x00ff00
│   ├── 透明度: 50%
│   └── 高度: 1px
├── 消息文本
│   ├── 字体: 14px
│   ├── 颜色: #ffffff
│   └── 位置: 左侧, 距边 20px
├── 进度条
│   ├── 高度: 6px
│   ├── 背景: 0x333333
│   ├── 填充: 0x00ff00
│   └── 圆角: 3px
└── 进度文本
    ├── 字体: 14px
    ├── 颜色: #ffffff
    └── 位置: 右侧, 距边 20px
```

### 4. 缩放/视角控制

```
缩放范围: 0.8x ~ 2.0x
默认缩放: 1.2x
缩放步进: 0.1x (键盘) / 滚轮自然

边界:
├── 上边界: y=0
├── 下边界: y=mapHeight - viewHeight
├── 左边界: x=0
└── 右边界: x=mapWidth - viewWidth
```

---

## 动画规范

### 1. 选中动画
```typescript
// 选中时
sprite.setTint(0x00ff00);
selectionRing.setVisible(true);

// 缩放弹跳效果
scene.tweens.add({
  targets: sprite,
  scale: { from: 1, to: 1.1 },
  duration: 100,
  yoyo: true
});
```

### 2. 状态变化动画
```typescript
// 忙碌状态 - 脉冲效果
scene.tweens.add({
  targets: sprite,
  alpha: { from: 1, to: 0.7 },
  duration: 500,
  yoyo: true,
  repeat: -1
});

// 错误状态 - 抖动效果
scene.tweens.add({
  targets: sprite,
  x: sprite.x + 3,
  duration: 50,
  yoyo: true,
  repeat: 3
});

// 成功反馈 - 闪烁效果
scene.tweens.add({
  targets: sprite,
  alpha: { from: 1, to: 0.3 },
  duration: 200,
  yoyo: true,
  repeat: 2
});
```

### 3. 进度条动画
```typescript
// 平滑填充
scene.tweens.add({
  targets: progressBar,
  width: targetWidth,
  duration: 300,
  ease: 'Sine.easeOut'
});
```

---

## 交互规范

### 1. 鼠标操作

| 操作 | 触发条件 | 响应 |
|------|----------|------|
| **单击** | 左键点击精灵 | 选中单个 Agent |
| **双击** | 左键双击精灵 | 选中并打开详情（可选） |
| **拖拽** | 左键按下移动 | 创建选框 |
| **右键** | 右键点击地图 | 对选中 Agent 发射指令 |
| **滚轮上** | 滚轮向上滚动 | 放大视角 |
| **滚轮下** | 滚轮向下滚动 | 缩小视角 |

### 2. 键盘操作

| 按键 | 功能 |
|------|------|
| **Esc** | 取消选中 |
| **↑** | 视角上移 |
| **↓** | 视角下移 |
| **←** | 视角左移 |
| **→** | 视角右移 |
| **+** | 放大 |
| **-** | 缩小 |
| **Ctrl+A** | 全选 Agent（可选） |

### 3. 视觉反馈时机

| 事件 | 反馈 |
|------|------|
| 鼠标悬停精灵 | 显示手型光标 |
| 鼠标按下精灵 | 精灵轻微缩放 |
| 选中 Agent | 绿色高亮 + 选中环 |
| 执行指令 | 黄色闪烁 + 状态栏更新 |
| 指令成功 | 绿色闪烁 + 状态栏提示 |
| 指令失败 | 红色抖动 + 状态栏报错 |

---

## 地图设计

### 背景风格
- **主题**：星际太空感
- **颜色**：深蓝紫渐变 (#1a1a2e → #16213e)
- **纹理**：星点 + 星云效果（可选）

### 网格设计
- **网格大小**：32x32 像素
- **地图尺寸**：50x30 格 = 1600x960 像素
- **网格线**：可选显示，颜色 #ffffff alpha=0.1

---

## 响应式设计

### 画布尺寸
```typescript
// 最小支持尺寸
minWidth: 800px
minHeight: 600px

// 推荐尺寸
recommendedWidth: 1280px
recommendedHeight: 720px

// 自适应策略
scaleMode: Phaser.Scale.FIT
autoCenter: Phaser.Scale.CENTER_BOTH
```

---

## 设计检查清单

- [ ] 所有颜色使用 Stratix 色彩系统
- [ ] 字体大小符合字体层级规范
- [ ] 选中状态使用绿色 (#00ff00)
- [ ] 状态变化有明确视觉反馈
- [ ] 动画时长在 100-500ms 之间
- [ ] 选框符合设计规范（2px 绿色边框 + 20% 透明填充）
- [ ] 状态栏固定在屏幕底部，不随摄像机移动
- [ ] Agent 名称标签在精灵上方 24px
- [ ] 错误提示使用红色 + 明确错误文本

## 变更记录
| 日期 | 变更内容 | 变更人 |
|------|----------|--------|
| 2026-02-22 | 初始创建 UI/UX 设计规范 | AI Agent |
